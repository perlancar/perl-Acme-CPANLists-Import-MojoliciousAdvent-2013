<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:og="http://ogp.me/ns#">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=euc-jp">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<title> Mojolicious¤ÈWebSocket¤ÈiTunes¤È - Charsbar::Note</title>
<link rel="start" href="/" title="Charsbar::Note">
<link rel="help" href="/help" title="¥Ø¥ë¥×">
<link rel="prev" href="/charsbar/20131119/1384839643" title=" À¤³¦¤ÎÌ¾¼ò»öÅµ2014Ç¯ÈÇ">
<link rel="next" href="/charsbar/20140324/1395637792" title=" Perl QA Hackathon 2014¤Ë»²²Ã...">

<link rel="stylesheet" href="http://d.st-hatena.com/statics/css/base.css?0bbd03d5acc8e46d9dbb741f71c120e3544cd0d0" type="text/css" media="all">

<link rel="stylesheet" href="http://d.st-hatena.com/statics/theme/hatena_leaf/hatena_leaf.css?1e7f1ae8a305b254105e3093bcf711b2af81c2a0" type="text/css" media="all">


<link rel="alternate" type="application/rss+xml" title="RSS" href="http://d.hatena.ne.jp/charsbar/rss">
<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://d.hatena.ne.jp/charsbar/rss2">

<link rel="meta" type="application/rdf+xml" title="FOAF" href="http://d.hatena.ne.jp/charsbar/foaf" />
<link rel="search" type="application/opensearchdescription+xml" href="http://d.hatena.ne.jp/charsbar/opensearch/diary.xml" title="Charsbar::NoteÆâÆüµ­¸¡º÷" />
<link rel="search" type="application/opensearchdescription+xml" href="http://d.hatena.ne.jp/charsbar/opensearch/archive.xml" title="Charsbar::NoteÆâ°ìÍ÷¸¡º÷" />



<link rel="shortcut icon" href="http://d.hatena.ne.jp/images/te_favicon.ico">



<link rel="canonical" href="http://d.hatena.ne.jp/charsbar/20131224/1387822610">


<style type="text/css">
<!-- 
span.highlight {
	color: black;
	background-color: yellow;
}
img.photo {
	float: right;
	margin: 10px;
	border: 0;
}
a.keyword {
	text-decoration: none;
	border-bottom: 1px solid #d0d0d0;
}
h1 {
    font-family: sans-serif,serif;
    font-size:130%;
    padding:25px 20px 25px 20px;
}
div.sidebar {
    margin:0 0 0 0;
}
p.sectionfooter {
    font-size:90%;
}
ul.links li,ul.hatena-section li {
    list-style-type: none;
    background-image:none;
    padding:2px;
    line-height:140%;
}
ul.links li,ul.hatena-rss li {
    list-style-type: none;
    background-image:none;
    padding:2px;
    line-height:140%;
}
div.section p {
    margin:0 0 15px 0;
}
div.section blockquote {
    margin: 10px;
    padding:10px 10px 0px 10px;
    border:1px solid #b2cca6;
    background:#eeffcc;
}
div.section ul {
    margin: 0px 0px 10px 5px;
    margin: !important 0 0 10px 20px;
    padding: 0;
}
div.section li {
    margin: 0 0 5px 10px;
    padding: 0 0 0 5px;
}
dl.profile {
    margin:-10px 0 0 0;
    padding:0px;
}
dl.profile dt {
    font-weight:bold;
    padding: 0 0 10px 0;
}
dl.profile dd {
    padding: 0 0 10px 0;
}

a{
color:#006600;
}

a:link{
color:#006600;
}

a:visited {
color:#003300;
}

a:hover {
color:#FF3300;
}

div.section pre{
 padding:10px;
 border:1px solid #b2cca6;
 width: 95%;
 background: #ffffff
 overflow: auto;
}

div.hatena-body {
 margin-top:-10px
}
-->
</style>


<script type="text/javascript">if(/[\x3c\x3e\x22]/.test(location.hash))location.hash=location.hash.replace(/[\x3c\x3e\x22]/g,'');if(/[\x3c\x3e]/.test(document.referrer))location.href=location.href;</script>


<meta property="og:type" content="article">
<meta property="og:title" content=" Mojolicious¤ÈWebSocket¤ÈiTunes¤È - Charsbar::Note">
<meta property="og:url" content="http://d.hatena.ne.jp/charsbar/20131224/1387822610">
<meta property="og:description" content=" ¤³¤ì¤ÏMojolicious Advent Calendar 24ÆüÌÜ¤Îµ­»ö¤Ç¤¹¡£ iTunes¤Ë±Ñ¸ì¶µºà¤Ê¤É¤òÊü¤ê¹þ¤ó¤Ç¥¨¥ó¥É¥ì¥¹ºÆÀ¸..">
<meta property="og:site_name" content="¤Ï¤Æ¤Ê¥À¥¤¥¢¥ê¡¼">


<!--
<rdf:RDF
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:foaf="http://xmlns.com/foaf/0.1/">
<rdf:Description rdf:about="http://d.hatena.ne.jp/charsbar/20131224/1387822610">
   <foaf:maker rdf:parseType="Resource">
     <foaf:holdsAccount>
       <foaf:OnlineAccount foaf:accountName="charsbar">
         <foaf:accountServiceHomepage rdf:resource="http://www.hatena.ne.jp/" />
       </foaf:OnlineAccount>
     </foaf:holdsAccount>
   </foaf:maker>
</rdf:Description>
</rdf:RDF>
-->

<link rel="alternate" media="handheld" type="text/html" href="http://d.hatena.ne.jp/charsbar/mobile?date=20131224&section=1387822610" />
<!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
<rdf:Description
  rdf:about="http://d.hatena.ne.jp/charsbar/20131224/1387822610"
  trackback:ping="http://d.hatena.ne.jp/charsbar/20131224/1387822610"
  dc:title=" Mojolicious¤ÈWebSocket¤ÈiTunes¤È"
  dc:identifier="http://d.hatena.ne.jp/charsbar/20131224/1387822610" />
</rdf:RDF>
-->

<script type="text/javascript" src="http://d.st-hatena.com/statics/js/MochiKit/1125/Base.js?1e7f1ae8a305b254105e3093bcf711b2af81c2a0"></script>
<script type="text/javascript" src="http://d.st-hatena.com/statics/js/MochiKit/1125/Iter.js?1e7f1ae8a305b254105e3093bcf711b2af81c2a0"></script>
<script type="text/javascript" src="http://d.st-hatena.com/statics/js/MochiKit/1125/DOM.js?1e7f1ae8a305b254105e3093bcf711b2af81c2a0"></script>
<script type="text/javascript" src="http://d.st-hatena.com/statics/js/MochiKit/1125/Style.js?1e7f1ae8a305b254105e3093bcf711b2af81c2a0"></script>
<script type="text/javascript" src="http://d.st-hatena.com/statics/js/MochiKit/1125/Signal.js?1e7f1ae8a305b254105e3093bcf711b2af81c2a0"></script>
<script type="text/javascript" src="http://d.st-hatena.com/statics/js/MochiKit/1125/Async.js?1e7f1ae8a305b254105e3093bcf711b2af81c2a0"></script>
<script type="text/javascript" src="http://d.st-hatena.com/statics/js/MochiKit/1125/Logging.js?1e7f1ae8a305b254105e3093bcf711b2af81c2a0"></script>
<script type="text/javascript" src="http://d.st-hatena.com/statics/js/BookmarkCommentViewer.js?1e7f1ae8a305b254105e3093bcf711b2af81c2a0" charset="utf-8"></script>



<meta name="twitter:card" content="summary">

<meta name="twitter:site" content="@hatenadiary">



<script type="text/javascript" src="http://s.hatena.ne.jp/js/HatenaStar.js"></script>
<script type="text/javascript">
Hatena.Star.SiteConfig = {
  entryNodes: {
    'div.section': {
      uri: 'h3 a',
      title: 'h3',
      container: 'h3'
    }
  }
};
Hatena.Author  = new Hatena.User('charsbar');
Hatena.DiaryName  = new Hatena.User('charsbar');

</script>





<script type="text/javascript" src="http://d.st-hatena.com/statics/js/adcolor.js?1e7f1ae8a305b254105e3093bcf711b2af81c2a0"></script>


<script type="text/javascript" src="http://d.st-hatena.com/statics/js/quick_pager.js?1e7f1ae8a305b254105e3093bcf711b2af81c2a0"></script>
<script type="text/javascript" src="http://d.st-hatena.com/statics/js/diary_utils.js?1e7f1ae8a305b254105e3093bcf711b2af81c2a0"></script>
<script type="text/javascript" src="http://d.st-hatena.com/statics/js/max_width_fotolife.js?1e7f1ae8a305b254105e3093bcf711b2af81c2a0"></script>
















<script type="text/javascript" src="http://d.st-hatena.com/statics/js/jquery-1.4.2.min.js?1e7f1ae8a305b254105e3093bcf711b2af81c2a0"></script>
<script type="text/javascript">
  jQuery.noConflict()(function($){
    var j$ = jQuery;
  });
</script>




</head>
<body>

  <script>Hatena.Diary.UaTrakingID = 'UA-46127385-8';</script>
 
<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58NPH6"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-58NPH6');</script>
<!-- End Google Tag Manager -->

<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/ja_JP/sdk.js#xfbml=1&version=v2.3&appId=189164841141201";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>


<table border="0" width="100%" cellspacing="0" cellpadding="0" id="banner">
<tr>
<td bgcolor="#B5CBA1" nowrap>
<a href="http://www.hatena.ne.jp/"><img border="0" src="http://d.hatena.ne.jp/images/hatena_te.gif" width="104" height="40" alt="Hatena::"></a><a href="http://d.hatena.ne.jp/"><img border="0" src="http://d.hatena.ne.jp/images/diaryte.gif" width="60" height="40" alt="¥Ö¥í¥°(Diary)"></a></td>
<td valign="bottom" align="left" bgcolor="#B5CBA1" width="60%" nowrap><form method="GET" action="/search" style="margin: 0;"><font color="#D6E2CE" size="2">&nbsp;&nbsp;<input type="text" name="word" value="" size="18" style="font-size: 8pt">&nbsp;<input type="hidden" name="name" value="charsbar"><input type="image" name="diary" alt="Æüµ­" src="http://d.hatena.ne.jp/images/search_diaryte.gif" align="top" style="width:34px;height:20px;border:0px">&nbsp;<input type="image" name="submit" alt="¸¡º÷" src="http://d.hatena.ne.jp/images/searchte.gif" align="top" style="width:34px;height:20px;border:0px"><br><img border="0" src="http://d.hatena.ne.jp/images/dot.gif" width="1" height="3" alt=""></font></form></td>
<td align="right" bgcolor="#B5CBA1"><a href="http://www.hatena.ne.jp/"><img border="0" src="http://d.hatena.ne.jp/images/hatenate.gif" width="82" height="40" alt="¤Ï¤Æ¤Ê"></a></td>
</tr>
<tr>
<td width="100%" bgcolor="#96AB7E" colspan="3"><img border="0" src="http://d.hatena.ne.jp/images/dot.gif" width="1" height="1" alt=""></td>
</tr>
<tr>
<td width="100%" bgColor="#ffffff" colspan="3">
<div align="center">
<center>
<table cellSpacing="0" cellPadding="2" width="100%" border="0">
<tbody>
<tr>
<td bgcolor="#D6E2CE" width="50%" nowrap><font color="#8DA475" size="2">&nbsp;¤è¤¦¤³¤½¥²¥¹¥È¤µ¤ó&nbsp;</font></td>
<td bgcolor="#D6E2CE" nowrap align="center"><a href="http://d.hatena.ne.jp/charsbar/" style="text-decoration:none; font-weight:100;"><font size="2" color="#8DA475">¥Ö¥í¥°¥È¥Ã¥×</font></a></td>
<td bgcolor="#D6E2CE" nowrap align="center"><a href="http://d.hatena.ne.jp/charsbar/archive" style="text-decoration:none; font-weight:100;"><font size="2" color="#8DA475">µ­»ö°ìÍ÷</font></a></td>
<td bgcolor="#D6E2CE" nowrap align="center"><a href="https://www.hatena.ne.jp/login?backurl=http%3A%2F%2Fd.hatena.ne.jp%2Fcharsbar%2F20131224%2F1387822610&add_timestamp=1" style="text-decoration:none; font-weight:100;"><font size="2" color="#8DA475">¥í¥°¥¤¥ó</font></a></td><td bgcolor="#D6E2CE" nowrap align="center"><a href="https://www.hatena.ne.jp/register?location=http%3A%2F%2Fd.hatena.ne.jp%3Fvia%3D200186&amp;via=200186" style="text-decoration:none; font-weight:100;"><font size="2" color="#8DA475">ÌµÎÁ¥Ö¥í¥°³«Àß</font></a></td>


</tr>
</tbody>
</table>
</center>
</div>
</td>
</tr>
<tr>
<td width="100%" bgcolor="#96AB7E" colspan="3"><img border="0" src="http://d.hatena.ne.jp/images/dot.gif" width="1" height="1" alt=""></td>
</tr>
</table>



<h1><a href="http://d.hatena.ne.jp/charsbar/">Charsbar::Note</a></h1>
<div class="hatena-body">
<div class="main">








<div class="calendar" id="pager-top">
  <a rel="prev" href="/charsbar/20131119/1384839643" class="prev">&lt; À¤³¦¤ÎÌ¾¼ò»öÅµ2014Ç¯ÈÇ</a>&nbsp;<span class="delimiter">|</span>&nbsp;<a rel="next" href="/charsbar/20140324/1395637792" class="next"> Perl QA Hackathon 2014¤Ë»²²Ã...&gt;</a><span id="edit-in-place-add"></span>
</div>
<div id="days">

<div class="day">
<h2><a href="http://d.hatena.ne.jp/charsbar/20131224" rel="nofollow"><span class="date">2013/12/24</span></a></h2>

<div class="body">

<!-- rakuten_ad_target_begin -->
<!-- google_ad_section_start -->

		<div class="section">
			<h3><a href="/charsbar/20131224/1387822610" name="1387822610"><span class="sanchor">¢£</span></a> Mojolicious¤ÈWebSocket¤ÈiTunes¤È</h3>
			<p>¤³¤ì¤Ï<a href="http://qiita.com/advent-calendar/2013/mojolicious" target="_blank">Mojolicious Advent Calendar</a> <a href="http://qiita.com/advent-calendar/2013/mojolicious#day-24" target="_blank">24ÆüÌÜ</a>¤Îµ­»ö¤Ç¤¹¡£</p>
			<p>iTunes¤Ë±Ñ¸ì¶µºà¤Ê¤É¤òÊü¤ê¹þ¤ó¤Ç¥¨¥ó¥É¥ì¥¹ºÆÀ¸¤·¤Æ¤¤¤ë¤È¡¢¡Ö¤³¤³¤Ë¥Æ¥­¥¹¥È¤¬É½¼¨¤µ¤ì¤Æ¤¤¤ì¤Ð¤¤¤¤¤Î¤Ë¤Ê¤¢¡×¤È»×¤¦¤³¤È¤¬¤¢¤ê¤Þ¤¹¡£¤¢¤ë¤¤¤Ï¡¢ÍÎ³Ú¤òÎ®¤·¤Ã¤Ñ¤Ê¤·¤Ë¤·¤Æ¤¤¤ë¤È¤­¤Ë¡¢¤Õ¤ÈÊ¹¤­¼è¤ì¤Ê¤«¤Ã¤¿²Î»ì¤ò³ÎÇ§¤·¤¿¤¯¤Ê¤ë¤È¤«¡£</p>
			<p>¤â¤Á¤í¤ó¤½¤ÎÅÔÅÙ¥á¥â¤Ê¤ê¤Ê¤ó¤Ê¤ê¤ò³«¤¤¤Æ¤â¤¤¤¤¤Î¤Ç¤¹¤¬¡¢¤¤¤Á¤¤¤Á³ºÅö¤Î¥È¥é¥Ã¥¯¤Ë´Ø·¸¤Î¤¢¤ë¥Õ¥¡¥¤¥ë¤òÃµ¤¹¤Î¤âÌÌÅÝ¤Ç¤¹¤«¤é¡¢¥È¥é¥Ã¥¯¤¬ÊÑ¤ï¤ë¤¿¤Ó¤Ë¼«Æ°¤Ç¥Æ¥­¥¹¥È¤¬É½¼¨¤µ¤ì¤ë¤è¤¦¤Ë¤·¤¿¤¤¤â¤Î¤Ç¤¹¡£GUI¤ò¤´¤ê¤´¤ê½ñ¤¯¤Î¤ÏÌÌÅÝ¤Ç¤¹¤·¡¢¥¿¡¼¥ß¥Ê¥ë¤ËÎ®¤·Â³¤±¤ë¤Î¤â¸«¤Å¤é¤¤¤Ç¤¹¤«¤é¡¢¤³¤³¤Ï¥Æ¥­¥¹¥È¤Ï¥Ö¥é¥¦¥¶¤ËÉ½¼¨¤¹¤ë¤³¤È¤Ë¤·¡¢WebSocket·ÐÍ³¤Ç¹¹¿·¤·Â³¤±¤ë¤è¤¦¤Ë¤·¤Æ¤ß¤Þ¤·¤ç¤¦¡£</p>
			<p>Windows´Ä¶­¤Ç¤Ï°Ê²¼¤Î¤è¤¦¤ËWin32::OLE¤òÍøÍÑ¤¹¤ë¤³¤È¤ÇiTunes¤«¤é¥È¥é¥Ã¥¯¾ðÊó¤ò¼èÆÀ¤Ç¤­¤Þ¤¹(Mac´Ä¶­¤Î¾ì¹ç¤ÏCPAN¤ËMac::iTunes¤È¤¤¤¦¥â¥¸¥å¡¼¥ë¤¬¤¢¤ë¤è¤¦¤Ç¤¹¤Î¤Ç¡¢Å¬µ¹ÆÉ¤ßÂØ¤¨¤Æ¤¯¤À¤µ¤¤)¡£</p>
<pre>
use Win32::OLE;

my $itunes = Win32::OLE-&gt;new(&#39;iTunes.Application&#39;);
my $track = $itunes-&gt;CurrentTrack;
my $name = $track-&gt;Name;
my $album = $track-&gt;Album;
my $path = $track-&gt;Location;
</pre>

			<p>Mojolicious¤Ë¤ÏÆÃÄê¤Î½èÍý¤ò·«¤êÊÖ¤¹»ÅÁÈ¤ß¤¬ÍÑ°Õ¤µ¤ì¤Æ¤¤¤Þ¤¹¤Î¤Ç¡¢¤³¤³¤Ç¤Ï¤½¤ì¤òÍøÍÑ¤·¤Æ¡¢ËèÉÃiTunes¤Î¥«¥ì¥ó¥È¥È¥é¥Ã¥¯¤ò³ÎÇ§¤·¡¢ÊÑ¹¹¤¬¤¢¤Ã¤¿¤é´ØÏ¢¤¹¤ë¥Æ¥­¥¹¥È¥Õ¥¡¥¤¥ë¤òÆÉ¤ß¹þ¤à¤³¤È¤Ë¤·¤Þ¤·¤ç¤¦¡£</p>
<pre>
use Mojolicious::Lite;
use Mojo::Asset::File;
use Mojo::IOLoop;
use File::Basename;

my $current;
Mojo::IOLoop-&gt;recurring(1 =&gt; sub {
  my $track = $itunes-&gt;CurrentTrack or return;
  if (!$current or $current ne $track-&gt;Name) {
    $current = $track-&gt;Name;
    my $album = $track-&gt;Album;
    my $basename = basename($track-&gt;Location);
    $basename =~ s/&#92;.m4a$/.txt/;
    my $textfile = app-&gt;home-&gt;rel_file(&quot;text/$album/$basename&quot;);
    my $text = Mojo::Asset::File-&gt;new(path =&gt; $textfile)-&gt;slurp;

  }
});
</pre>

			<p>Â³¤¤¤Æ¡¢WebSocket¤Þ¤ï¤ê¤Î½èÍý¤ò¼ÂÁõ¤·¤Þ¤¹¡£¤³¤³¤Ç¤ÏWebSocket¤ÎÀÜÂ³¤ò%clients¤È¤¤¤¦ÊÑ¿ô¤ËÊÝÂ¸¤·¤Æ¡¢¤¢¤È¤Ç¥ë¡¼¥×¤ÎÃæ¤«¤éÍøÍÑ¤Ç¤­¤ë¤è¤¦¤Ë¤·¤Æ¤¤¤Þ¤¹¡£</p>
<pre>
use Mojolicious::Lite;

get &#39;/&#39; =&gt; &#39;index&#39;;

my %clients;
websocket &#39;/connect&#39; =&gt; sub {
  my $self = shift;
  my $id = &quot;&quot;.$self-&gt;tx;
  $clients{$id} = $self-&gt;tx;

  $self-&gt;on(finish =&gt; sub {
    delete $clients{$id};
  });
};

app-&gt;start;
</pre>

			<p>¤¢¤È¤Ï¥ë¡¼¥×¤ÎÃæ¤Ç¡¢¹¹¿·¤µ¤ì¤¿¾ðÊó¤òJSON¤Ë¤¯¤ë¤ó¤ÇÁ÷¤ê½Ð¤·¤Æ¤ä¤ê(cp932¤Çdecode¤·¤Æ¤¤¤ë¤Î¤Ï¤â¤Á¤í¤óWindows´Ä¶­¤À¤«¤é¤Ç¤¹)¡¢</p>
<pre>
use Mojo::ByteStream &#39;b&#39;;
use Mojo::JSON &#39;j&#39;;

Mojo::IOLoop-&gt;recurring(1 =&gt; sub {
  if (!$current or $current ne $track-&gt;Name) {
    ...
    my $text = Mojo::Asset::File-&gt;new(path =&gt; $textfile)-&gt;slurp;

    my $json = b(j({
      title =&gt; b($current)-&gt;decode(&#39;cp932&#39;),
      text =&gt; b($text)-&gt;decode(&#39;cp932&#39;),
    }))-&gt;decode;
    $clients{$_}-&gt;send($json) for keys %clients;
  }
});
</pre>

			<p>¤½¤Î¾ðÊó¤òJavaScript¤Ç²èÌÌ¤Ë½ñ¤­½Ð¤·¤Æ¤¢¤²¤ì¤Ð´°À®¤Ç¤¹¡£</p>
<pre>
@@ index.html.ep
&lt;html&gt;
&lt;head&gt;
%= javascript &#39;/mojo/jquery/jquery.js&#39;;
%= javascript begin
$(function(){
  var ws = new WebSocket(&#39;&lt;%= url_for(&#39;connect&#39;)-&gt;to_abs %&gt;&#39;);
  ws.onmessage = function(msg) {
    var res = JSON.parse(msg.data);
    $(&#39;.title&#39;).text(res.title);
    $(&#39;.text&#39;).text(res.text);
  };
});
% end
&lt;/head&gt;
&lt;body&gt;
&lt;h1 class=&quot;title&quot;&gt;&lt;/h1&gt;
&lt;pre class=&quot;text&quot;&gt;&lt;/pre&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

			<p>¤³¤Î¤è¤¦¤ÊWebSocket¤ò»È¤Ã¤¿Mojolicious::Lite¥¢¥×¥ê¤Ï¡¢Chrome¤Ê¤ÉWebSocketÂÐ±þ¤Î¥Ö¥é¥¦¥¶¤Ç¤Ê¤¤¤ÈÀµ¤·¤¯Æ°ºî¤·¤Þ¤»¤ó¤·¡¢¸½¾õ¤Ç¤Ïplackup¤â¡¢Windows´Ä¶­¤Î¾ì¹ç¤Ïhypnotoad¤Ï¤â¤Á¤í¤ó¡¢morbo¤µ¤¨¤â»È¤¨¤Ê¤¤(perl myapp.pl daemon¤Ê¤éOK)¤È¤¤¤¦¡¢¤Ê¤«¤Ê¤«¸·¤·¤¤À©Ìó¤Ï¤¢¤ê¤Þ¤¹¤¬¡¢WebSocket¤ò»È¤¦¤È¡¢¼ê¸µ¤Î¥Ö¥é¥¦¥¶¤À¤±¤Ç¤Ê¤¯¡¢¥Í¥Ã¥È¥ï¡¼¥¯¾å¤ÎÂ¾¤Î¥Ö¥é¥¦¥¶¤Ç¤âÆ±¤¸ÆâÍÆ¤òÉ½¼¨¤µ¤»¤é¤ì¤Þ¤¹¤Î¤Ç¡¢É½¼¨¤¹¤ëÆâÍÆ¤ò¹©É×¤¹¤ì¤Ð¤Ê¤«¤Ê¤«¤ª¤â¤·¤í¤¤¤³¤È¤â¤Ç¤­¤½¤¦¤Ç¤¹¡£</p>
			<p>Á´ÂÎÁü¤Ï <a href="https://github.com/charsbar/lyrics_viewer_win32" target="_blank">https://github.com/charsbar/lyrics_viewer_win32</a> ¤«¤é¤É¤¦¤¾¡£</p>
			<p class="sectionfooter"><a href="/charsbar/20131224/1387822610">Permalink</a> | <a href="/charsbar/20131224/1387822610#c">¥³¥á¥ó¥È(0)</a> | <a href="/charsbar/20131224/1387822610#tb">¥È¥é¥Ã¥¯¥Ð¥Ã¥¯(0)</a> | 03:16 <a href="http://b.hatena.ne.jp/entry/http://d.hatena.ne.jp/charsbar/20131224/1387822610" class="bookmark-icon"><img src="http://d.hatena.ne.jp/images/b_entry_te.gif" border="0" title=" Mojolicious¤ÈWebSocket¤ÈiTunes¤È¤ò´Þ¤à¥Ö¥Ã¥¯¥Þ¡¼¥¯" alt=" Mojolicious¤ÈWebSocket¤ÈiTunes¤È¤ò´Þ¤à¥Ö¥Ã¥¯¥Þ¡¼¥¯" width="16" height="12" class="icon"></a> <a href="http://b.hatena.ne.jp/entry/http://d.hatena.ne.jp/charsbar/20131224/1387822610" class="bookmark-count"><img src="http://b.hatena.ne.jp/entry/image/http://d.hatena.ne.jp/charsbar/20131224/1387822610" title="¤Ï¤Æ¤Ê¥Ö¥Ã¥¯¥Þ¡¼¥¯ -  Mojolicious¤ÈWebSocket¤ÈiTunes¤È" alt=""></a> <img class="hatena-bcomment-view-icon" src="http://r.hatena.ne.jp/images/popup.gif" onclick="javascript:BookmarkCommentViewer.iconImageClickHandler(this, 'http://d.hatena.ne.jp/charsbar/20131224/1387822610', event);" title=" Mojolicious¤ÈWebSocket¤ÈiTunes¤È¤Î¥Ö¥Ã¥¯¥Þ¡¼¥¯¥³¥á¥ó¥È" alt=" Mojolicious¤ÈWebSocket¤ÈiTunes¤È¤Î¥Ö¥Ã¥¯¥Þ¡¼¥¯¥³¥á¥ó¥È" width="13" height="13"></p>

		</div>

<!-- google_ad_section_end -->
<!-- rakuten_ad_target_end -->


</div>

<form id="comment-form" method="post" action="/charsbar/comment#c" class="comment">
<input type="hidden" name="mode" value="enter">
<input type="hidden" name="rkm" value="">
<input type="hidden" name="date" value="2013-12-24">
<div class="comment">
  <div class="caption"><a name="c">¥³¥á¥ó¥È¤ò½ñ¤¯</a></div>
  <div class="commentshort">
    
    

    <a name="error-message"></a>
    <p class="message" style="display:none"></p>

    

    
            
        
          <p class="commentmessage">Åê¹Æ¤·¤¿¥³¥á¥ó¥È¤Ï´ÉÍý¼Ô¤¬¾µÇ§¤¹¤ë¤Þ¤Ç¸ø³«¤µ¤ì¤Þ¤»¤ó¡£</p>
        
      
    <p class="commentform">
      <span class="commentator">
        <span class="usermailconfirm"><input name="usermail" size="1" value=""><input name="userurl" size="1" value="">¥¹¥Ñ¥àÂÐºö¤Î¤¿¤á¤Î¥À¥ß¡¼¤Ç¤¹¡£¤â¤·¸«¤¨¤Æ¤â²¿¤âÆþÎÏ¤·¤Ê¤¤¤Ç¤¯¤À¤µ¤¤<br></span>
        <span class="username">
        <img src="http://www.hatena.ne.jp/images/guest_icon.gif" class="hatena-id-icon" alt="¥²¥¹¥È" title="¥²¥¹¥È" height="16" width="16">
        <input type="hidden" name="section" value="1387822610">
        
          <input id="comment-username" name="username" size="15">
        
        </span>
        
          <span class="usermail"><img src="/images/icon-usermail.gif" style="vertical-align:middle;margin-right:3px;"><input id="comment-usermail" name="useremail" size="15" value=""></span>
          <span class="userurl"><img src="/images/icon-userurl.gif" style="vertical-align:middle;margin-right:3px;"><input id="comment-userurl" name="useruri" size="15" value=""></span>
        
      </span>
<br>
      <!-- NOT_VERIFIED_COMMENT_AUTH -->
      <textarea id="comment-textarea" name="body" value="" cols="60" rows="3"></textarea><br>
      
          <div class="captcha">
            <img src="/charsbar/captcha?1485845687" class="captcha-image">
            <span class="captcha-message">²èÁüÇ§¾Ú</span><br />
            <input type="text" name="captcha_code" size="10" class="captcha-string" id="comment-captcha">
          </div>
      
      <span class="comment-submit"><input type="submit" id="comment-form-button" value="Åê¹Æ"></span>
    </p>

      <script type="text/javascript" src="/js/diary_comment_edit_form.js"></script>
    

  </div>
</div>

</form>





  
  <div class="refererlist">
    <div class="caption">
      <a name="tb">¥È¥é¥Ã¥¯¥Ð¥Ã¥¯</a> - http://d.hatena.ne.jp/charsbar/20131224/1387822610
    </div>
    
  </div>
  
  
  








</div>



</div>
<div class="calendar" id="pager-bottom">
  <a rel="prev" href="/charsbar/20131119/1384839643" class="prev">&lt; À¤³¦¤ÎÌ¾¼ò»öÅµ2014Ç¯ÈÇ</a>&nbsp;<span class="delimiter">|</span>&nbsp;<a rel="next" href="/charsbar/20140324/1395637792" class="next"> Perl QA Hackathon 2014¤Ë»²²Ã...&gt;</a>
</div>
</div>
<div class="sidebar">
<div class="calendar">
	&nbsp;
</div>
<div class="hatena-module hatena-module-searchform">
<div class="hatena-moduletitle">Æüµ­¤Î¸¡º÷</div>
<div class="hatena-modulebody">
<form method="GET" action="/charsbar/searchdiary" class="hatena-searchform"><input type="text" name="word" class="hatena-searchform searchform-word" value=""><input type="submit" name=".submit" value="¸¡º÷" class="hatena-searchform searchform-button"><br><label class="searchform-label-detail"><input type="radio" name="type" value="detail" checked="checked" class="searchform-radio">¾ÜºÙ</label> <label class="searchform-label-list"><input type="radio" name="type" value="list" class="searchform-radio">°ìÍ÷</label></form>

</div>
</div>

<!-- -->
<div class="hatena-module hatena-module-calendar2">
<div class="hatena-moduletitle">¥«¥ì¥ó¥À¡¼</div>
<div class="hatena-modulebody">
<table class="calendar" summary="calendar">
<tr>
<td class="calendar-prev-month" colspan="2"><a href="/charsbar/201311" title="201311" rel="nofollow">&lt;&lt;</a></td>
<td class="calendar-current-month" colspan="3"><a href="/charsbar/archive/201312" rel="nofollow">2013/12</a></td>
<td class="calendar-next-month" colspan="2"><a href="/charsbar/201401" title="201401" rel="nofollow">&gt;&gt;</a></td>
</tr>
<tr>
<td class="calendar-sunday">Æü</td>
<td class="calendar-weekday">·î</td>
<td class="calendar-weekday">²Ð</td>
<td class="calendar-weekday">¿å</td>
<td class="calendar-weekday">ÌÚ</td>
<td class="calendar-weekday">¶â</td>
<td class="calendar-saturday">ÅÚ</td>
</tr>
	<tr>
		<td class="calendar-day">1</td>
		<td class="calendar-day">2</td>
		<td class="calendar-day">3</td>
		<td class="calendar-day">4</td>
		<td class="calendar-day">5</td>
		<td class="calendar-day">6</td>
		<td class="calendar-day">7</td>
	</tr>
	<tr>
		<td class="calendar-day">8</td>
		<td class="calendar-day">9</td>
		<td class="calendar-day">10</td>
		<td class="calendar-day">11</td>
		<td class="calendar-day">12</td>
		<td class="calendar-day">13</td>
		<td class="calendar-day">14</td>
	</tr>
	<tr>
		<td class="calendar-day">15</td>
		<td class="calendar-day">16</td>
		<td class="calendar-day">17</td>
		<td class="calendar-day">18</td>
		<td class="calendar-day">19</td>
		<td class="calendar-day">20</td>
		<td class="calendar-day">21</td>
	</tr>
	<tr>
		<td class="calendar-day">22</td>
		<td class="calendar-day">23</td>
		<td class="calendar-day day-selected"><a href="/charsbar/20131224" title="24">24</a></td>
		<td class="calendar-day">25</td>
		<td class="calendar-day">26</td>
		<td class="calendar-day">27</td>
		<td class="calendar-day">28</td>
	</tr>
	<tr>
		<td class="calendar-day">29</td>
		<td class="calendar-day">30</td>
		<td class="calendar-day">31</td>
		<td class="calendar-day"></td>
		<td class="calendar-day"></td>
		<td class="calendar-day"></td>
		<td class="calendar-day"></td>
	</tr>
</table>
	</div>
</div>


<div class="hatena-module hatena-module-section">
<div class="hatena-moduletitle"><a href="/charsbar/archive">ºÇ¶á¤Îµ­»ö</a></div>
<div class="hatena-modulebody">
<ul class="hatena-section">
<li><a href="http://d.hatena.ne.jp/charsbar/20161217/1481954979"> YAPC::Hokkaido 2016¤Ë¹Ô¤Ã¤Æ¤­¤¿</a></li>
<li><a href="http://d.hatena.ne.jp/charsbar/20161217/1481954722"> London Perl Workshop 2016¤Ë¹Ô¤Ã¤Æ¤­¤¿</a></li>
<li><a href="http://d.hatena.ne.jp/charsbar/20160803/1470234800"> ¥ä¥Ñ¥Á¡¼¤ÇPerl::PrereqScanner::NotQuiteLite¤ÎÏÃ¤ò¤·¤Æ¤­¤Þ¤·¤¿</a></li>
<li><a href="http://d.hatena.ne.jp/charsbar/20150214/1423881583"> Perl6¤Ç¥Ç¡¼¥¿¥Ù¡¼¥¹¤ò°·¤¤¤¿¤¤¤È¤­</a></li>
<li><a href="http://d.hatena.ne.jp/charsbar/20141111/1415665173"> London Perl Workshop 2014¤Ë¹Ô¤Ã¤Æ¤­¤¿</a></li>
<li><a href="http://d.hatena.ne.jp/charsbar/20141023/1413995565"> DBD::SQLite 1.44/1.45_01</a></li>
<li><a href="http://d.hatena.ne.jp/charsbar/20140424/1398298408"> Pod::PerldocJp 0.18</a></li>
<li><a href="http://d.hatena.ne.jp/charsbar/20140421/1398037080"> WEB+DB PRESS Vol.80</a></li>
<li><a href="http://d.hatena.ne.jp/charsbar/20140407/1396873105"> Test::PAUSE::Permissions</a></li>
<li><a href="http://d.hatena.ne.jp/charsbar/20140324/1395637792"> Perl QA Hackathon 2014¤Ë»²²Ã¤·¤Æ¤­¤Þ¤·¤¿</a></li>
<li><a href="http://d.hatena.ne.jp/charsbar/20131224/1387822610"> Mojolicious¤ÈWebSocket¤ÈiTunes¤È</a></li>
<li><a href="http://d.hatena.ne.jp/charsbar/20131119/1384839643"> À¤³¦¤ÎÌ¾¼ò»öÅµ2014Ç¯ÈÇ</a></li>
<li><a href="http://d.hatena.ne.jp/charsbar/20131028/1382971626"> Fukuoka Perl Workshop #24</a></li>
<li><a href="http://d.hatena.ne.jp/charsbar/20130930/1380519312"> CPAN(TS)¤È¥é¥ó¥­¥ó¥°¤Î·ï¡¢Â¾</a></li>
<li><a href="http://d.hatena.ne.jp/charsbar/20130827/1377587647"> DBD::SQLite 1.41_01</a></li>
</ul>
</div>
</div>


<div class="hatena-module">
<div class="hatena-moduletitle">½ñ¤¤¤Æ¤¤¤ë¿Í</div>
<div class="hatena-modulebody">
<ul class="links">
<li><a href="/charsbar/about">¤Ï¤Æ¤Ê¥×¥í¥Õ¥£¡¼¥ë</a></li>
<li><a href="http://search.cpan.org/~ishigaki/">CPAN</a></li>
</ul>
</div>
</div>
<!-- -->
<a href="/charsbar/rss"><img width="24" alt="RSS¥Õ¥£¡¼¥É" src="/images/rss.gif" class="icon" title="RSS¥Õ¥£¡¼¥É" height="12" border="0"></a>
</div>
<script type="text/javascript"><!--
    hatena_counter_name = "charsbar";
    hatena_counter_id = "1";
    hatena_counter_ref = document.referrer+"";
    hatena_counter_screen = screen.width + "x" + screen.height+","+screen.colorDepth;
//--></script>
<script type="text/javascript" src="http://counter.hatena.ne.jp//js/counter.js"></script>
<noscript><img src="http://counter.hatena.ne.jp/charsbar/1" border="0" alt="counter"></noscript>



</div>






<script type="text/javascript">

  var _gaq = _gaq || [];
  var days = document.getElementById('days');
  if (days && days.innerHTML.indexOf("º£½µ¤Î¤ªÂê") != -1) {
    _gaq.push(['_setCustomVar', 2, 'campaign', 'odai', 3]);
  }

  if (days && /\u4eca\u9031\u306e\u304a\u984c/.test(days.innerHTML)) {
    _gaq.push(['_setCustomVar', 2, 'campaign', 'odai', 3]);
  }

  if (days && /ScanSnap\u7279\u5225\u30e2\u30c7\u30eb\u30fb\u30d6\u30ed\u30b0\u3067\u5ba3\u4f1d\u30b3\u30f3\u30c6\u30b9\u30c8/.test(days.innerHTML)) {
    _gaq.push(['_setCustomVar', 2, 'campaign', 'scansnap1401bcn4ssacro', 3]);
  }

  if (days && /\u7279\u5225\u304a\u984c\u300c\u9752\u6625\u306e\u4e00\u518a\u300d/.test(days.innerHTML)) {
    _gaq.push(['_setCustomVar', 2, 'campaign', 'pdmagazine', 3]);
  }

  if (days && /\u7279\u5225\u304a\u984c\u300c\u5fc3\u6e29\u307e\u308b\u30de\u30ca\u30fc\u306e\u8a71\u300d/.test(days.innerHTML)) {
    _gaq.push(['_setCustomVar', 2, 'campaign', 'jrwest', 3]);
  }

  if (days && /Presso\u4f7f\u3063\u3066\u307f\u305f/.test(days.innerHTML)) {
    _gaq.push(['_setCustomVar', 2, 'campaign', 'presso1404', 3]);
  }

  if (days && /CodeIQ\u306e\u554f\u984c\u30fb\u30d1\u30ba\u30eb\u3092\u8003\u3048\u3088\u3046\uff01/.test(days.innerHTML)) {
    _gaq.push(['_setCustomVar', 2, 'campaign', 'codeiq_matsuri2013_2_2', 3]);
  }

  if (days && /2013\u5e74\u306b\u3084\u308a\u305f\u3044\u3053\u3068/.test(days.innerHTML)) {
    _gaq.push(['_setCustomVar', 2, 'campaign', 'newyear2013', 3]);
  }

  if (days && /2012\u5e74\u30dc\u30c4\u738b\u6c7a\u5b9a\u6226\uff01\u30d5\u30eb\u30bf\u88fd\u83d3\ud7\u306f\u3066\u306a\u30d6\u30ed\u30b0\u304a\u984c\u30ad\u30e3\u30f3\u30da\u30fc\u30f3/.test(days.innerHTML)) {
    _gaq.push(['_setCustomVar', 2, 'campaign', 'furuta', 3]);
  }

  if (days && /\u300c\u884c\u3063\u3066\u307f\u305f\u3044\u304a\u5e97\u30fb\u30ec\u30b9\u30c8\u30e9\u30f3\u300d/.test(days.innerHTML)) {
    _gaq.push(['_setCustomVar', 2, 'campaign', 'gnavi201512', 3]);
  }

  if (days && /\u6d77\u5916\u30c9\u30e9\u30de\u300e\u30e9\u30a4\u30fb\u30c8\u30a5\u30fb\u30df\u30fc \u5618\u306e\u77ac\u9593\u300f\u89b3\u305f\u3044\uff01|\u300e\u30e9\u30a4\u30fb\u30c8\u30a5\u30fb\u30df\u30fc \u5618\u306e\u77ac\u9593\u300f\u7b2c1\u8a71\u306e\u611f\u60f3\u3092\u6559\u3048\u3066\u304f\u3060\u3055\u3044|\u4eca\u3060\u304b\u3089\u8a00\u3048\u308b\u300c\u5618\u3092\u3064\u3044\u3066\u3057\u307e\u3063\u305f\u30a8\u30d4\u30bd\u30fc\u30c9\u300d\u3092\u6559\u3048\u3066\u304f\u3060\u3055\u3044|\u3060\u307e\u3055\u308c\u305f\u3051\u3069\u3001\u8a31\u305b\u3066\u3057\u307e\u3063\u305f\u5618\u3092\u6559\u3048\u3066\u304f\u3060\u3055\u3044/.test(days.innerHTML)) {
    _gaq.push(['_setCustomVar', 2, 'campaign', 'lietome', 3]);
  }

  if (days && /\u30de\u30a4\u30d9\u30b9\u30c8\u30bd\u30f3\u30b02013/.test(days.innerHTML)) {
    _gaq.push(['_setCustomVar', 2, 'campaign', 'mybestsong2013', 3]);
  }

  if (days && /\u7d0d\u6dbc\uff01\u307b\u3093\u3068\u306b\u3042\u3063\u305f\u6016\u3044\u30b3\u30fc\u30c9/.test(days.innerHTML)) {
    _gaq.push(['_setCustomVar', 2, 'campaign', 'codeiq_matsuri2013_2_1', 3]);
  }

  if (days && /\u590f\u306e\u5199\u771f2013/.test(days.innerHTML)) {
    _gaq.push(['_setCustomVar', 2, 'campaign', 'photocon2013summer', 3]);
  }

  if (days && /Windows\/Office\u6b66\u52c7\u4f1d/.test(days.innerHTML)) {
    _gaq.push(['_setCustomVar', 2, 'campaign', 'WindowsDevOpen', 3]);
  }

  if (days && /\u300c\u79c1\u306f\u3007\u3007\u738b\uff01\u300d\u30d0\u30a4\u30af\u738b\ud7\u306f\u3066\u306a\u30d6\u30ed\u30b0\u304a\u984c\u30ad\u30e3\u30f3\u30da\u30fc\u30f3/.test(days.innerHTML)) {
    _gaq.push(['_setCustomVar', 2, 'campaign', 'bike-o', 3]);
  }

  if (days && /Visa\u30d7\u30ea\u30da\u30a4\u30c9\u300cV\u30d7\u30ea\u30ab\u300d\u8a66\u3057\u305f\u3044\uff01|Visa\u30d7\u30ea\u30da\u30a4\u30c9\u300cV\u30d7\u30ea\u30ab\u300d\u3001\u81ea\u5206\u306a\u3089\u3053\u3046\u4f7f\u3046\uff01|V\u30d7\u30ea\u30ab\u304c1\u4e07\u5186\u5206\u3042\u3063\u305f\u3089\u3001\u30cd\u30c3\u30c8\u3067\u4f55\u3092\u8cb7\u3044\u307e\u3059\u304b\uff1f/.test(days.innerHTML)) {
    _gaq.push(['_setCustomVar', 2, 'campaign', 'vpreca', 3]);
  }

  if (days && /\u30a2\u30a4\u30c7\u30e0 \u30a8\u30f3\u30b8\u30cb\u30a2\u30ad\u30e3\u30ea\u30a2Hacks\u5171\u6709\u30d7\u30ed\u30b8\u30a7\u30af\u30c8|\u30a8\u30f3\u30b8\u30cb\u30a2\u3068\u3057\u3066\u306e\u3001\u3068\u3063\u3066\u304a\u304d\u306e\u30ad\u30e3\u30ea\u30a2Hacks\u3092\u6559\u3048\u3066\u304f\u3060\u3055\u3044|\u3042\u306a\u305f\u304c\u30a8\u30f3\u30b8\u30cb\u30a2\u8ee2\u8077\u30b5\u30a4\u30c8\u3092\u4f5c\u308b\u306a\u3089\u3001\u3069\u3093\u306a\u30b5\u30a4\u30c8\u306b\u3057\u307e\u3059\u304b\uff1f|5\u5e74\u5f8c\u306e\u300c\u30a8\u30f3\u30b8\u30cb\u30a2\u306e\u50cd\u304d\u65b9\u300d\u306f\u3001\u3069\u3046\u5909\u308f\u3063\u3066\u3044\u3066\u307b\u3057\u3044\u3067\u3059\u304b\uff1f/.test(days.innerHTML)) {
    _gaq.push(['_setCustomVar', 2, 'campaign', 'aidemcareer', 3]);
  }

  if (days && /\u306f\u3066\u306a\u30c0\u30a4\u30a2\u30ea\u30fc10\u5468\u5e74\u304a\u3081\u3067\u3068\u3046\uff01/.test(days.innerHTML)) {
    _gaq.push(['_setCustomVar', 2, 'campaign', 'hatenadiary10th', 3]);
  }

  if (days && /\u3086\u304f\u5e74\u304f\u308b\u5e742015/.test(days.innerHTML)) {
    _gaq.push(['_setCustomVar', 2, 'campaign', '2014-2015campaign', 3]);
  }

  if (days && /\u8aad\u307f\u653e\u984c\u3067\u30b3\u30b9\u30d1\u3088\u3057\uff01\u96fb\u5b50\u66f8\u7c4d\u30a2\u30d7\u30eayomel.jp\u30ad\u30e3\u30f3\u30da\u30fc\u30f3/.test(days.innerHTML)) {
    _gaq.push(['_setCustomVar', 2, 'campaign', 'yomel', 3]);
  }

  if (days && /\u30bb\u30c4\u30e4\u30af\u30a8\u30b9\u30c8/.test(days.innerHTML)) {
    _gaq.push(['_setCustomVar', 2, 'campaign', 'setsuyaquest', 3]);
  }

  if (days && /\u79cb\u306e\u591c\u9577\u306f\u8aad\u66f8\u3068\u30d6\u30ed\u30b0/.test(days.innerHTML)) {
    _gaq.push(['_setCustomVar', 2, 'campaign', 'bookreview2013fall', 3]);
  }

  if (days && /\u7279\u5225\u304a\u984c\u300c\u82b8\u8853\u306e\u79cb\u300d/.test(days.innerHTML)) {
    _gaq.push(['_setCustomVar', 2, 'campaign', 'caillebotte', 3]);
  }

  if (days && /\u30a8\u30a4\u30d7\u30ea\u30eb\u30d5\u30fc\u30eb2014/.test(days.innerHTML)) {
    _gaq.push(['_setCustomVar', 2, 'campaign', 'aprilfool2014', 3]);
  }


  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- CG:0,CH:0,ICG:1,ICH:0,T: -->
</body>
</html>
